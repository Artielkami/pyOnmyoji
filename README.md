# pyOnmyoji

识别精度的问题，运行不能做到100%完成，推荐购买月卡。

阴阳师自动化脚本，提供了一些API供mod开发。

## 安装依赖

- 安装[python](https://www.python.org/downloads/)

- 双击`install.bat`，等待依赖安装完成

## 运行方式

- 右击`start.bat`->管理员权限运行

## 运行相对稳定功能

- 百鬼夜行
- 困28
- 觉醒
- 御魂
- 御魂（队员）
- 御魂（队长）
- 御灵

## 所有mod

单人：

- 花合战：
  - 需要有一套能刷困二十八的阵容，一套御魂的阵容，一套觉醒的阵容，并保证不会翻车
  - 将会执行百鬼夜行1次，御魂17次，觉醒13次，困二十八7次
- 困28，设定次数后，点击开始
  - 可启动界面：庭院、探索、困28（有探索按钮的那个框）、进入困28的战斗界面进入
  - 默认开启金币、经验加成
  - 自动换狗粮，狗粮队长放到最左侧位置，其余两个位置放置狗粮，目前仅支持更换白蛋
- 百鬼夜行：设定次数后，点击开始
  - 可启动界面：庭院、百鬼夜行
  - 随机邀请好友
  - 优先砸带灯笼的式神
  - 优先砸豆子获取、概率up、好友概率up等buff
- 御魂：设定次数后，点击开始
  - 自动开启加成
  - 可启动界面：庭院、探索、御魂
- 觉醒：设定次数后，点击开始
  - 自动开启加成
  - 可启动界面：庭院
- 御灵：设定次数后，点击开始
  - 可启动界面：庭院、探索、御灵
- 协作任务：
  - 自动接受、拒绝协作任务
  - TODO:保持后台运行
- 御魂（队员）：
  - 请手动开启加成
  - 手动接受邀请并进入队伍后点击开始
  - 会自动进行点赞
- 御魂（队长）：
  - 在组队界面邀请好友以后点击开始（无需点击挑战按钮）
- 加成：开启加成，主要供其他mod调用
- 友情点：
  - 赠送友情点，领取并回赠友情点
  
多开：

目前仅支持双开，点击多开按钮以后分别点击获取队长句柄、队员句柄后点击相应窗口以获取句柄，同时目前多开无法通过点击停止按钮停止，仅能通过关闭程序的方式停止。

- 百鬼夜行：
  - 使用方法同单人
- 御魂：
  - 设定好队长、队员句柄后，队长邀请、队员接受邀请并进入队伍中
  - 点击开始

## mod开发

- 识别测试(match_test)：自动截图并对`mods/match_test/img/template.png`进行匹配测试
- 模块测试(mod_test)：测试相关功能

## TODO:

[TODOS](https://github.com/Pokerpoke/pyOnmyoji/projects/1)

## 更新日志

- 2020.9.23 增加通用模块，四周年爬塔用，在爬塔有挑战的页面点击开始，判断逻辑为：挑战->胜利->结算跳蛋->挑战...后期更换挑战图片能够适用其他场景
